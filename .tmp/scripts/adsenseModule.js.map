{"version":3,"sources":["../../app/scripts/adsenseModule.js"],"names":[],"mappings":"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","file":"adsenseModule.js","sourcesContent":["\n/**\n * Adsense module.\n * @external jQuery\n * @external Adsense\n * @module\n * @returns {Object} Public functions and variables\n */\nvar adsenseModule = (function () {\n    'use strict';\n\n    var settings = {\n        containers: '.adsbygoogle',\n        adClient: 'ca-pub-8495719252049968', // Client id used when attribut is missing\n        adSlot: '3723415549', // Default ad slot when attribut is missing\n        adFormat: 'auto' // Default ad format when attribut is missing\n    };\n\n\n\n    /**\n     * Search ad containers in given block and insert ad\n     * @param {string} selector - Div selector from where to start ad block search\n     */\n    var _insertAds = function (selector) {\n\n        var $block = (selector) ? $(selector) : $('body');\n        if (!$block) {\n            return;\n        }\n\n        $block.find(settings.containers).filter(':visible').each(function (i, container) {\n\n            var $container = $(container);\n\n            if (!$container.attr('data-adsbygoogle-status')) {\n\n                // Inset missing attributs\n                if (!$container.attr('data-ad-client')) {\n                    $container.attr('data-ad-client', settings.adClient);\n                }\n                if (!$container.attr('data-ad-slot')) {\n                    $container.attr('data-ad-slot', settings.adSlot);\n                }\n                if (!$container.attr('data-ad-format')) {\n                    $container.attr('data-ad-format', settings.adFormat);\n                }\n\n                // Initialize ad\n                (adsbygoogle = window.adsbygoogle || []).push({});\n            }\n\n        });\n    };\n\n\n\n    /**\n     * Search Bootstrap hidden tabs\n     * @param {string} selector - Div selector from where to start ad block search \n     */\n    var _findHiddenAds = function (selector) {\n\n        var $block = (selector) ? $(selector) : $('body');\n        if (!$block) return;\n\n        $block.find('a[data-toggle=\"tab\"]').filter(':not(.active)').each(function (i, tab) {\n            $(tab).one('shown.bs.tab', function (e) {\n                var paneId = $(e.target).attr('href');\n                _insertAds(paneId);\n                _findHiddenAds(paneId);\n            });\n        });\n\n    };\n\n\n\n    /**\n     * Find ad blocks, add missing attributs and initialise ads\n     * @public\n     * @param {object} [customSettings] - Adsense parameters\n     */\n    var init = function (customSettings) {\n\n        $.extend(settings, customSettings || {});\n\n        $(window).on('load', function () {\n            // Initialize visible ads\n            _insertAds();\n            // Delay ad initialisation in hidden tabs\n            _findHiddenAds();\n        });\n\n    };\n\n\n\n    /**\n     * Auto insert Adsense script when document is ready\n     */\n    $(document).ready(function () {\n        $('body').append('<!-- Google Adsense -->'\n            + '<script async src=\"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"></script>');\n    });\n\n\n\n    return {\n        init: init\n    };\n\n})();"]}