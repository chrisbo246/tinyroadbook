{"version":3,"sources":["../../app/scripts/mapLayersModule.js"],"names":[],"mappings":"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","file":"mapLayersModule.js","sourcesContent":["//jslint browser: true\n//global console, $, ol\n\n/**\n * OL3 layers module.\n * @external jQuery\n * @external OL3\n * @module\n * @returns {Object} Public functions and variables\n */\nvar mapLayersModule = (function () {\n    'use strict';\n\n    var layers = {};\n\n    var settings = {\n        bingMapsKey: 'Ak-dzM4wZjSqTlzveKz5u0d4IQ4bRzVI309GxmkgSVr1ewS6iPSrOvOKhA-CJlm3',\n        properties: {\n            visible: false,\n            preload: 'Infinity'\n        }\n    };\n\n\n    /**\n     * Change default configuration\n     * @public\n     * @param {Object} customSettings - Custom settings\n     */\n    var config = function (customSettings) {\n\n        $.extent(settings, customSettings);\n\n    };\n\n\n\n    /**\n     * Create a new layer using predefined settings\n     * @public\n     * @param {string} name - Predefined layer (variable name)\n     * @param {Object} [properties] - Layer custom parameters\n     * @returns {Object} OL3 layer\n     */\n    var create = function (name, properties) {\n\n        if (!layers[name]) {\n            console.warn(name + ' layer definition is not defined');\n            return;\n        }\n\n        var layer = layers[name]();\n\n        layer.setProperties(settings.properties);\n\n        if (properties) {\n            layer.setProperties(properties);\n        }\n\n        return layer;\n\n    };\n\n\n\n    // Base layers _________________________________________________________________________________\n\n    layers.openStreetMap = function () {\n        return new ol.layer.Tile({\n            name: 'openStreetMap',\n            title: 'Road Map<small> (by OpenStreetMap)</small>', // (offline)\n            visible: true,\n            type: 'base',\n            source: new ol.source.OSM({\n                // crossOrigin: null,\n                urls: [\n                    'http://a.tile.openstreetmap.org/{z}/{x}/{y}.png'\n                    //'../../Datas/Tiles/osm_mapnik/{z}/{x}/{y}.png'\n                ]\n            })\n        });\n    };\n\n    layers.openSeaMap = function () {\n        return new ol.layer.Tile({\n            name: 'openSeaMap',\n            title: 'Shipping lanes<small> (by OpenSeaMap)</small>',\n            type: 'base',\n            source: new ol.source.OSM({\n                attributions: [\n                    new ol.Attribution({\n                        html: 'All maps &copy; ' +\n                                '<a href=\"http://www.openseamap.org/\">OpenSeaMap</a>'\n                    }),\n                    ol.source.OSM.ATTRIBUTION\n                ],\n                crossOrigin: null,\n                urls: [\n                    'http://tiles.openseamap.org/seamark/{z}/{x}/{y}.png',\n                    'http://t1.openseamap.org/seamark/{z}/{x}/{y}.png'\n                ]\n            })\n        });\n    };\n\n    layers.openStreetMapHumanitarian = function () {\n        return new ol.layer.Tile({\n            name: 'openStreetMapHumanitarian',\n            title: 'Humanitarian <small>(by OpenStreetMap)</small>',\n            type: 'base',\n            source: new ol.source.OSM({\n                attributions: [\n                    new ol.Attribution({\n                        html: 'All maps &copy; ' +\n                                '<a href=\"http://www.openstreetmap.fr/\">OpenStreetMap</a>'\n                    }),\n                    ol.source.OSM.ATTRIBUTION\n                ],\n                url: 'http://tile-{a-c}.openstreetmap.fr/hot/{z}/{x}/{y}.png'\n            })\n        });\n    };\n\n    layers.mapquestOSM = function () {\n        return new ol.layer.Tile({\n            name: 'mapquestOSM',\n            title: 'Road map<small> (by MapQuest)</small>',\n            type: 'base',\n            source: new ol.source.MapQuest({\n                layer: 'osm'\n            })\n        });\n    };\n\n    layers.mapquestSat = function () {\n        return new ol.layer.Tile({\n            name: 'mapquestSat',\n            title: 'Aerial view<small> (by MapQuest)</small>',\n            type: 'base',\n            source: new ol.source.MapQuest({\n                layer: 'sat'\n            })\n        });\n    };\n\n\n    // http://thunderforest.com/maps/opencyclemap/\n    layers.openCycleMap = function () {\n        return new ol.layer.Tile({\n            name: 'openCycleMap',\n            title: 'Cycling roads<small> (by OpenCycleMap)</small>',\n            type: 'base',\n            source: new ol.source.OSM({\n                attributions: [\n                    new ol.Attribution({\n                        html: 'All maps &copy; ' +\n                                '<a href=\"http://www.opencyclemap.org/\">OpenCycleMap</a>'\n                    }),\n                    ol.source.OSM.ATTRIBUTION\n                ],\n                url: 'http://{a-c}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png'\n            })\n        });\n    };\n\n    // http://thunderforest.com/maps/transport/\n    layers.thunderforestTransport = function () {\n        return new ol.layer.Tile({\n            name: 'thunderforestTransport',\n            title: 'Transports<small> (by ThunderForest)</small>',\n            type: 'base',\n            source: new ol.source.OSM({\n                attributions: [\n                    new ol.Attribution({\n                        html: 'All maps &copy; ' +\n                                '<a href=\"http://www.thunderforest.com/\">ThunderForest</a>'\n                    }),\n                    ol.source.OSM.ATTRIBUTION\n                ],\n                url: 'http://{a-c}.tile.thunderforest.com/transport/{z}/{x}/{y}.png'\n            })\n        });\n    };\n\n    // http://thunderforest.com/maps/transport-dark/\n    layers.thunderforestTransportDark = function () {\n        return new ol.layer.Tile({\n            name: 'thunderforestTransportDark',\n            title: 'Transport dark<small> (by ThunderForest)</small>',\n            type: 'base',\n            source: new ol.source.OSM({\n                attributions: [\n                    new ol.Attribution({\n                        html: 'All maps &copy; ' +\n                                '<a href=\"http://www.thunderforest.com/\">ThunderForest</a>'\n                    }),\n                    ol.source.OSM.ATTRIBUTION\n                ],\n                url: 'https://{a-c}.tile.thunderforest.com/transport-dark/{z}/{x}/{y}.png'\n            })\n        });\n    };\n\n    // http://thunderforest.com/maps/landscape/\n    layers.thunderforestLandscape = function () {\n        return new ol.layer.Tile({\n            name: 'thunderforestLandscape',\n            title: 'Landscape<small> (by ThunderForest)</small>',\n            type: 'base',\n            source: new ol.source.OSM({\n                attributions: [\n                    new ol.Attribution({\n                        html: 'All maps &copy; ' +\n                                '<a href=\"http://www.thunderforest.com/\">ThunderForest</a>'\n                    }),\n                    ol.source.OSM.ATTRIBUTION\n                ],\n                url: 'https://{a-c}.tile.thunderforest.com/landscape/{z}/{x}/{y}.png'\n            })\n        });\n    };\n\n    // http://thunderforest.com/maps/outdoors/\n    layers.thunderforestOutdoor = function () {\n        return new ol.layer.Tile({\n            name: 'thunderforestOutdoor',\n            title: 'Outdoor activities<small> (by ThunderForest)</small>',\n            type: 'base',\n            source: new ol.source.OSM({\n                attributions: [\n                    new ol.Attribution({\n                        html: 'All maps &copy; ' +\n                                '<a href=\"http://www.thunderforest.com/\">ThunderForest</a>'\n                    }),\n                    ol.source.OSM.ATTRIBUTION\n                ],\n                url: 'https://{a-c}.tile.thunderforest.com/outdoors/{z}/{x}/{y}.png'\n            })\n        });\n    };\n\n    layers.arcgis = function () {\n        return new ol.layer.Tile({\n            name: 'arcgis',\n            title: 'Terrain<small> (by ArcGIS)</small>',\n            type: 'base',\n            source: new ol.source.XYZ({\n                crossOrigin: 'anonymous', // Important\n                attributions: [\n                    new ol.Attribution({\n                        html: 'Tiles &copy; <a href=\"http://services.arcgisonline.com/ArcGIS/' +\n                                'rest/services/World_Topo_Map/MapServer\">ArcGIS</a>'\n                    })\n                ],\n                url: 'http://server.arcgisonline.com/ArcGIS/rest/services/' +\n                        'World_Topo_Map/MapServer/tile/{z}/{y}/{x}'\n\n            })\n        });\n    };\n\n    layers.arcgisRestHighwayUSA = function () {\n        return new ol.layer.Tile({\n            name: 'arcgisRestHighwayUSA',\n            title: 'Highway USA<small> (by ArcGIS)</small>',\n            type: 'base',\n            extent: [-13884991, 2870341, -7455066, 6338219],\n            source: new ol.source.TileArcGISRest({\n                url: 'http://sampleserver1.arcgisonline.com/ArcGIS/rest/services/Specialty/' + 'ESRI_StateCityHighway_USA/MapServer'\n            })\n        });\n    };\n\n    layers.googleTerrain = function () {\n        return new ol.layer.Tile({\n            name: 'googleTerrain',\n            title: 'Terrain + labels<small> (by Google)</small>',\n            type: 'base',\n            source: new ol.source.XYZ({\n                crossOrigin: 'anonymous', // Important\n                url: 'http://mts0.google.com/vt/lyrs=t@132,r@285000000&hl=en&src=app&x={x}&y={y}&z={z}&s=1'\n            })\n        });\n    };\n\n    layers.googleSatellite = function () {\n        return new ol.layer.Tile({\n            name: 'googleSatellite',\n            title: 'Aerial view<small> (by Google)</small>',\n            type: 'base',\n            source: new ol.source.XYZ({\n                crossOrigin: 'anonymous', // Important\n                //resolutions: [9784, 2446, 1223, 76.44, 9.55, 2.39],\n                url: 'http://khms0.google.com/kh/v=165&src=app&x={x}&y={y}&z={z}&s=1'\n            })\n        });\n    };\n\n    layers.bingRoad = function () {\n        return new ol.layer.Tile({\n            name: 'bingRoad',\n            title: 'Road map<small> (by Bing)</small>',\n            type: 'base',\n            maxZoom: 19,\n            source: new ol.source.BingMaps({\n                key: settings.bingMapsKey,\n                imagerySet: 'Road'\n            })\n        });\n    };\n\n    layers.bingAerial = function () {\n        return new ol.layer.Tile({\n            name: 'bingAerial',\n            title: 'Aerial view<small> (by Bing)</small>',\n            type: 'base',\n            maxZoom: 19,\n            source: new ol.source.BingMaps({\n                key: settings.bingMapsKey,\n                imagerySet: 'Aerial'\n            })\n        });\n    };\n\n    layers.bingAerialWithLabels = function () {\n        return new ol.layer.Tile({\n            name: 'bingAerialWithLabels',\n            title: 'Aerial view with labels<small> (by Bing)</small>',\n            type: 'base',\n            maxZoom: 19,\n            source: new ol.source.BingMaps({\n                key: settings.bingMapsKey,\n                imagerySet: 'AerialWithLabels'\n            })\n        });\n    };\n\n    layers.bingCollinsBart = function () {\n        return new ol.layer.Tile({\n            name: 'bingCollinsBart',\n            title: 'CollinsBart<small> (by Bing)</small>',\n            type: 'base',\n            maxZoom: 19,\n            source: new ol.source.BingMaps({\n                key: settings.bingMapsKey,\n                imagerySet: 'collinsBart'\n            })\n        });\n    };\n\n    layers.bingOrdnanceSurvey = function () {\n        return new ol.layer.Tile({\n            name: 'bingOrdnanceSurvey',\n            title: 'OrdnanceSurvey<small> (by Bing)</small>',\n            type: 'base',\n            maxZoom: 19,\n            source: new ol.source.BingMaps({\n                key: settings.bingMapsKey,\n                imagerySet: 'ordnanceSurvey'\n            })\n        });\n    };\n\n    // Stamen\n    // http://maps.stamen.com/#watercolor/12/37.7706/-122.3782\n\n    // toner toner-hybrid toner-labels toner-lines toner-background toner-lite\n    layers.stamenToner = function () {\n        return new ol.layer.Tile({\n            name: 'stamenToner',\n            title: 'B&W map<small> (by Stamen)</small>',\n            type: 'base',\n            source: new ol.source.Stamen({\n                layer: 'toner'\n            })\n        });\n    };\n\n    layers.stamenTonerLite = function () {\n        return new ol.layer.Tile({\n            name: 'stamenTonerLite',\n            title: 'Gray scale map<small> (by Stamen)</small>',\n            type: 'base',\n            source: new ol.source.Stamen({\n                layer: 'toner-lite'\n            })\n        });\n    };\n\n    layers.stamenTonerBackground = function () {\n        return new ol.layer.Tile({\n            name: 'stamenTonerBackground',\n            title: 'B&W background<small> (by Stamen)</small>',\n            type: 'base',\n            source: new ol.source.Stamen({\n                layer: 'toner-background'\n            })\n        });\n    };\n\n    layers.stamenWatercolor = function () {\n        return new ol.layer.Tile({\n            name: 'stamenWatercolor',\n            title: 'Watercolor map<small> (by Stamen)</small>',\n            type: 'base',\n            source: new ol.source.Stamen({\n                layer: 'watercolor'\n            })\n        });\n    };\n\n    // terrain terrain-labels terrain-lines terrain-background\n    layers.stamenTerrain = function () {\n        return new ol.layer.Tile({\n            name: 'stamenTerrain',\n            title: 'Terrain USA<small> (by Stamen)</small>',\n            type: 'base',\n            source: new ol.source.Stamen({\n                layer: 'terrain'\n            })\n        });\n    };\n\n    layers.stamenTerrainWithLabels = function () {\n        return new ol.layer.Tile({\n            name: 'stamenTerrainLabels',\n            title: 'Terrain + labels USA<small> (by Stamen)</small>',\n            type: 'base',\n            source: new ol.source.Stamen({\n                layer: 'terrain-labels'\n            })\n        });\n    };\n\n    /*\n    // Err\n    layers.stamenBurningMap = function () {\n    return new ol.layer.Tile({\n        name: 'stamenBurningMap',\n        title: 'Burning map<small> (by Stamen)</small>',\n        type: 'base',\n        source: new ol.source.Stamen({\n            layer: 'burningmap'\n        })\n    });\n    };\n\n    // Err\n    layers.stamenMars = function () {\n    return new ol.layer.Tile({\n        name: 'stamenMars',\n        title: 'Mars<small> (by Stamen)</small>',\n        type: 'base',\n        source: new ol.source.Stamen({\n            layer: 'mars'\n        })\n    });\n    };\n\n    // Err\n    layers.stamenTreesCabsCrime = function () {\n    return new ol.layer.Tile({\n        name: 'stamenTreesCabsCrime',\n        title: 'Trees Cabs Crime<small> (by Stamen)</small>',\n        type: 'base',\n        source: new ol.source.Stamen({\n            layer: 'trees-cabs-crime'\n        })\n    });\n    };\n    */\n\n\n\n    // Overlays ____________________________________________________________________________________\n\n    layers.googleBike = function () {\n        return new ol.layer.Tile({\n            name: 'googleBike',\n            title: 'Cycling roads<small> (by Google)</small>',\n            visible: true,\n            opacity: 1,\n            source: new ol.source.XYZ({\n                //attributions: [\n                //  new ol.Attribution({\n                //    html: 'Map data &copy; <a href=\"http://www.openstreetmap.org/\">OpenStreetMap</a> and contributors <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>'\n                //  }),\n                //  ol.source.OSM.ATTRIBUTION\n                //],\n                crossOrigin: 'anonymous',\n                url: 'http://mts0.google.com/vt/lyrs=h@239000000,bike&hl=en&src=app&x={x}&y={y}&z={z}&s=1'\n            })\n        });\n    };\n\n    layers.mapquestHyb = function () {\n        return new ol.layer.Tile({\n            name: 'mapquestHyb',\n            title: 'City names<small> (by MapQuest)</small>',\n            source: new ol.source.MapQuest({\n                layer: 'hyb'\n            })\n        });\n    };\n\n    layers.lonviaCycling = function () {\n        return new ol.layer.Tile({\n            name: 'lonviaCycling',\n            title: 'Cycling roads<small> (by Lonvia)</small>',\n            opacity: 0.7,\n            source: new ol.source.OSM({\n                attributions: [\n                    new ol.Attribution({\n                        html: 'Map data &copy; <a href=\"http://www.openstreetmap.org/\">OpenStreetMap</a> and contributors <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>'\n                    }),\n                    ol.source.OSM.ATTRIBUTION\n                ],\n                crossOrigin: null,\n                url: 'http://tile.lonvia.de/cycling/{z}/{x}/{y}.png'\n                    // urls: [\n                    //  'http://tile.waymarkedtrails.org/cycling/{z}/{x}/{y}.png',\n                    //  'http://tile.lonvia.de/cycling/{z}/{x}/{y}.png',\n                    //  '../../Datas/Tiles/lonvia_cycling/{z}/{x}/{y}.png'\n                    // ]\n            })\n        });\n    };\n\n    layers.lonviaHiking = function () {\n        return new ol.layer.Tile({\n            name: 'lonviaHiking',\n            title: 'Hiking paths<small> (by Lonvia)</small>',\n            opacity: 0.7,\n            source: new ol.source.OSM({\n                attributions: [\n                    new ol.Attribution({\n                        html: 'Map data &copy; <a href=\"http://www.openstreetmap.org/\">OpenStreetMap</a> and contributors <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>'\n                    }),\n                    ol.source.OSM.ATTRIBUTION\n                ],\n                crossOrigin: null,\n                url: 'http://tile.lonvia.de/hiking/{z}/{x}/{y}.png'\n            })\n        });\n    };\n\n    layers.stamenTonerHybrid = function () {\n        return new ol.layer.Tile({\n            name: 'stamenTonerHybrid',\n            title: 'B&W roads + labels<small> (by Stamen)</small>',\n            source: new ol.source.Stamen({\n                layer: 'toner-hybrid'\n            })\n        });\n    };\n\n    layers.stamenTonerLabels = function () {\n        return new ol.layer.Tile({\n            name: 'stamenTonerLabels',\n            title: 'B&W labels<small> (by Stamen)</small>',\n            source: new ol.source.Stamen({\n                layer: 'toner-labels'\n            })\n        });\n    };\n\n    layers.stamenTonerLines = function () {\n        return new ol.layer.Tile({\n            name: 'stamenTonerLines',\n            title: 'B&W roads<small> (by Stamen)</small>',\n            source: new ol.source.Stamen({\n                layer: 'toner-lines'\n            })\n        });\n    };\n\n    layers.mapboxShadedRelief = function () {\n        return new ol.layer.Image({\n            name: 'mapboxShadedRelief',\n            title: 'Shaded relief<small> (by Mapbox)</small>',\n            source: new ol.source.Raster({\n                sources: [\n                    new ol.source.XYZ({\n                        url: 'https://{a-d}.tiles.mapbox.com/v3/aj.sf-dem/{z}/{x}/{y}.png',\n                        crossOrigin: 'anonymous'\n                    })\n                ],\n                operationType: 'image',\n                operation: shade\n            }),\n            opacity: 0.3\n        });\n    };\n\n    // See http://openlayers.org/en/v3.4.0/examples/kml-timezones.html\n    layers.timeZones = function () {\n        return new ol.layer.Vector({\n            name: 'timeZones',\n            title: 'Time zones',\n            style: _timezonesStyle,\n            minResolution: 4891,\n            source: new ol.source.Vector({\n                    extractStyles: false,\n                    projection: 'EPSG:3857',\n                    url: 'data/kml/timezones.kml',\n                    format: new ol.format.KML()\n                })\n                //source: new ol.source.Vector({\n                //    url: 'data/kml/timezones.kml',\n                //    format: new ol.format.KML({\n                //        extractStyles: false\n                //    })\n                //})\n        });\n    };\n\n    layers.drawingVector = function () {\n        return new ol.layer.Tile({\n            name: 'drawing',\n            title: 'My drawings'\n            // ,\n            //    source: new ol.source.MapQuest({layer: 'sat'})\n        });\n    };\n\n    /*\n    layers.toolserverHillShading = function () {\n    return new ol.layer.Tile({\n        name: 'toolserverHillShading',\n        title: 'Toolserver hill shading',\n        minZoom: 2,\n        maxZoom: 15,\n        source: new ol.source.XYZ({\n            // crossOrigin: null,\n            urls: [\n                // 'http://toolserver.org/~cmarqu/hill/{z}/{x}/{y}.png',\n                'http://a.tiles.wmflabs.org/hillshading/{z}/{x}/{y}.png',\n                'http://b.tiles.wmflabs.org/hillshading/{z}/{x}/{y}.png',\n                'http://c.tiles.wmflabs.org/hillshading/{z}/{x}/{y}.png'\n            ]\n        })\n    });\n    };\n    */\n\n    //layers.grid = function () {\n    //return new ol.layer.Tile({\n    //  name: 'gridLayer',\n    //  title: 'Country data',\n    //  style: 'Grid',\n    //  // visible: false,\n    //  source: sources.grid\n    //});\n    //};\n\n    // if (map && map.getView()) {\n    //    map.addLayer(scoresLayer);\n    // } else {\n    //    userOverlays.push(scoresLayer);\n    // }\n\n\n\n    // Styles ______________________________________________________________________________________\n\n    /**\n     * Timezones layer style\n     * See http://openlayers.org/en/v3.4.0/examples/kml-timezones.html\n     */\n\n    var _timezonesStyle = function (feature) { // feature, resolution\n        var offset = 0;\n        var name = feature.get('name'); // e.g. GMT -08:30\n        var match = name.match(/([\\-+]\\d{2}):(\\d{2})$/);\n        if (match) {\n            var hours = parseInt(match[1], 10);\n            var minutes = parseInt(match[2], 10);\n            offset = 60 * hours + minutes;\n        }\n        var date = new Date();\n        var local = new Date(date.getTime() +\n            (date.getTimezoneOffset() + offset) * 60000);\n        // offset from local noon (in hours)\n        var delta = Math.abs(12 - local.getHours() + (local.getMinutes() / 60));\n        if (delta > 12) {\n            delta = 24 - delta;\n        }\n        var opacity = 0.75 * (1 - delta / 12);\n        return [new ol.style.Style({\n            fill: new ol.style.Fill({\n                color: [0x55, 0x55, 0x55, opacity]\n                    //color: [0xff, 0xff, 0x33, opacity]\n            }),\n            stroke: new ol.style.Stroke({\n                color: '#ffffff'\n            })\n        })];\n\n    };\n\n    // _____________________________________________________________________________________________\n\n    /**\n     * Generates a shaded relief image given elevation data.  Uses a 3x3\n     * neighborhood for determining slope and aspect.\n     * @param {Array.<ImageData>} inputs Array of input images.\n     * @param {Object} data Data added in the \"beforeoperations\" event.\n     * @return {ImageData} Output image.\n     */\n    function shade(inputs, data) {\n      var elevationImage = inputs[0];\n      var width = elevationImage.width;\n      var height = elevationImage.height;\n      var elevationData = elevationImage.data;\n      var shadeData = new Uint8ClampedArray(elevationData.length);\n      var dp = data.resolution * 2;\n      var maxX = width - 1;\n      var maxY = height - 1;\n      var pixel = [0, 0, 0, 0];\n      var twoPi = 2 * Math.PI;\n      var halfPi = Math.PI / 2;\n      var sunEl = Math.PI * data.sunEl / 180;\n      var sunAz = Math.PI * data.sunAz / 180;\n      var cosSunEl = Math.cos(sunEl);\n      var sinSunEl = Math.sin(sunEl);\n      var pixelX, pixelY, x0, x1, y0, y1, offset,\n          z0, z1, dzdx, dzdy, slope, aspect, cosIncidence, scaled;\n      for (pixelY = 0; pixelY <= maxY; ++pixelY) {\n        y0 = pixelY === 0 ? 0 : pixelY - 1;\n        y1 = pixelY === maxY ? maxY : pixelY + 1;\n        for (pixelX = 0; pixelX <= maxX; ++pixelX) {\n          x0 = pixelX === 0 ? 0 : pixelX - 1;\n          x1 = pixelX === maxX ? maxX : pixelX + 1;\n\n          // determine elevation for (x0, pixelY)\n          offset = (pixelY * width + x0) * 4;\n          pixel[0] = elevationData[offset];\n          pixel[1] = elevationData[offset + 1];\n          pixel[2] = elevationData[offset + 2];\n          pixel[3] = elevationData[offset + 3];\n          z0 = data.vert * (pixel[0] + pixel[1] * 2 + pixel[2] * 3);\n\n          // determine elevation for (x1, pixelY)\n          offset = (pixelY * width + x1) * 4;\n          pixel[0] = elevationData[offset];\n          pixel[1] = elevationData[offset + 1];\n          pixel[2] = elevationData[offset + 2];\n          pixel[3] = elevationData[offset + 3];\n          z1 = data.vert * (pixel[0] + pixel[1] * 2 + pixel[2] * 3);\n\n          dzdx = (z1 - z0) / dp;\n\n          // determine elevation for (pixelX, y0)\n          offset = (y0 * width + pixelX) * 4;\n          pixel[0] = elevationData[offset];\n          pixel[1] = elevationData[offset + 1];\n          pixel[2] = elevationData[offset + 2];\n          pixel[3] = elevationData[offset + 3];\n          z0 = data.vert * (pixel[0] + pixel[1] * 2 + pixel[2] * 3);\n\n          // determine elevation for (pixelX, y1)\n          offset = (y1 * width + pixelX) * 4;\n          pixel[0] = elevationData[offset];\n          pixel[1] = elevationData[offset + 1];\n          pixel[2] = elevationData[offset + 2];\n          pixel[3] = elevationData[offset + 3];\n          z1 = data.vert * (pixel[0] + pixel[1] * 2 + pixel[2] * 3);\n\n          dzdy = (z1 - z0) / dp;\n\n          slope = Math.atan(Math.sqrt(dzdx * dzdx + dzdy * dzdy));\n\n          aspect = Math.atan2(dzdy, -dzdx);\n          if (aspect < 0) {\n            aspect = halfPi - aspect;\n          } else if (aspect > halfPi) {\n            aspect = twoPi - aspect + halfPi;\n          } else {\n            aspect = halfPi - aspect;\n          }\n\n          cosIncidence = sinSunEl * Math.cos(slope) +\n              cosSunEl * Math.sin(slope) * Math.cos(sunAz - aspect);\n\n          offset = (pixelY * width + pixelX) * 4;\n          scaled = 255 * cosIncidence;\n          shadeData[offset] = scaled;\n          shadeData[offset + 1] = scaled;\n          shadeData[offset + 2] = scaled;\n          shadeData[offset + 3] = elevationData[offset + 3];\n        }\n      }\n\n      return new ImageData(shadeData, width, height);\n    }\n\n    // Set default properties\n    /*$.each(layers, function (i, layer) {\n        layer().setProperties(defaultProperties);\n    });*/\n\n\n    /*\n    // Translate layer and group titles once i18next plugin initialized\n    $.when(deferred.init.i18next).done(function () {\n\n        roadBaselayers.setProperties({\n            title: $.t('sections:roadLayers.title')\n        });\n\n        reliefBaselayers.setProperties({\n            title: $.t('sections:roadWithReliefLayers.title')\n        });\n\n        aerialBaselayers.setProperties({\n            title: $.t('sections:satelliteLayers.title')\n        });\n\n        baselayers.setProperties({\n            title: $.t('sections:baseLayer.title')\n        });\n\n        roadOverlays.setProperties({\n            title: $.t('sections:roadLayers.title')\n        });\n\n        informationOverlays.setProperties({\n            title: $.t('sections:infoLayers.title')\n        });\n\n        //terrainOverlays.setProperties({\n        //    title: $.t('sections:reliefLayers.title')\n        //});\n\n        userOverlays.setProperties({\n            title: $.t('sections:myLayers.title')\n        });\n\n        overlays.setProperties({\n            title: $.t('sections:layers.title')\n        });\n\n        informationOverlays.setProperties({\n            title: $.t('sections:infoLayers.title')\n        });\n\n        console.log('Map layers translated');\n\n    });\n    */\n\n    return {\n        create: create,\n        config: config\n    };\n\n})();"]}