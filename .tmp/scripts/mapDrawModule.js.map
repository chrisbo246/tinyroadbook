{"version":3,"sources":["mapDrawModule.js"],"names":[],"mappings":";;;;;;;;;;;AASA,IAAI,gBAAgB,YAAa;;AAE7B,iBAF6B;;AAI7B,QAAI,IAAJ,CAJ6B;AAK7B,QAAI,WAAW,IAAI,GAAG,UAAH,EAAf;;;;;AALyB,QAYzB,SAAS,IAAI,GAAG,WAAH,CAAe,MAAf,CAAsB;AACnC,kBAAU,QAAV;;;;AAIA,yBAAiB,yBAAU,KAAV,EAAiB;AAC9B,mBAAO,GAAG,MAAH,CAAU,SAAV,CAAoB,YAApB,CAAiC,KAAjC,KACP,GAAG,MAAH,CAAU,SAAV,CAAoB,WAApB,CAAgC,KAAhC,CADO,CADuB;SAAjB;KALR,CAAT;;;;;AAZyB,QA4BzB,iBAAiB,IAAI,GAAG,KAAH,CAAS,MAAT,CAAgB;AACrC,gBAAQ,IAAI,GAAG,MAAH,CAAU,MAAV,CAAiB;AACzB,sBAAU,QAAV;SADI,CAAR;AAGA,eAAO,IAAI,GAAG,KAAH,CAAS,KAAT,CAAe;AACtB,kBAAM,IAAI,GAAG,KAAH,CAAS,IAAT,CAAc;AACpB,uBAAO,0BAAP;aADE,CAAN;AAGA,oBAAQ,IAAI,GAAG,KAAH,CAAS,MAAT,CAAgB;AACxB,uBAAO,SAAP;AACA,uBAAO,CAAP;aAFI,CAAR;AAIA,mBAAO,IAAI,GAAG,KAAH,CAAS,MAAT,CAAgB;AACvB,wBAAQ,CAAR;AACA,sBAAM,IAAI,GAAG,KAAH,CAAS,IAAT,CAAc;AACpB,2BAAO,SAAP;iBADE,CAAN;aAFG,CAAP;SARG,CAAP;KAJiB,CAAjB;;;;;;;AA5ByB,QAwDzB,OAAO,SAAP,IAAO,CAAU,GAAV,EAAe;AACtB,uBAAe,MAAf,CAAsB,GAAtB,EADsB;AAEtB,YAAI,cAAJ,CAAmB,MAAnB,EAFsB;KAAf;;;;;;;;AAxDkB,QAqEzB,kBAAkB,SAAlB,eAAkB,CAAU,IAAV,EAAgB,GAAhB,EAAqB;AACvC,YAAI,IAAJ,EAAU;AACN,mBAAO,IAAI,GAAG,WAAH,CAAe,IAAf,CAAoB;AAC3B,0BAAU,QAAV;AACA,yDAA2C,IAA3C;aAFG,CAAP,CADM;AAKN,gBAAI,cAAJ,CAAmB,IAAnB,EALM;SAAV;KADkB;;;;;;;;AArEO,QAuFzB,sBAAsB,SAAtB,mBAAsB,CAAU,EAAV,EAAc,GAAd,EAAmB;AACzC,YAAI,aAAa,SAAS,cAAT,CAAwB,EAAxB,CAAb,CADqC;AAEzC,mBAAW,QAAX,GAAsB,YAAY;AAC9B,gBAAI,iBAAJ,CAAsB,IAAtB,EAD8B;AAE9B,4BAAgB,WAAW,KAAX,EAAkB,GAAlC,EAF8B;SAAZ,CAFmB;AAMzC,wBAAgB,WAAW,KAAX,EAAkB,GAAlC,EANyC;KAAnB,CAvFG;;AAkG7B,WAAO;AACH,cAAM,IAAN;AACA,yBAAiB,eAAjB;AACA,6BAAqB,mBAArB;KAHJ,CAlG6B;CAAZ,EAAjB","file":"mapDrawModule.js","sourcesContent":["/*eslint-env browser, jquery */\n/*global ol */\n/**\n* OL3 draw module.\n* @module\n* @external ol\n* @return {Object} Public functions / variables\n*/\n/*eslint-disable no-unused-vars*/\nvar mapDrawModule = (function () {\n    /*eslint-enable no-unused-vars*/\n    'use strict';\n\n    var draw;\n    var features = new ol.Collection();\n\n\n\n    /**\n    * Modify interaction\n    */\n    var modify = new ol.interaction.Modify({\n        features: features,\n        // the SHIFT key must be pressed to delete vertices, so\n        // that new vertices can be drawn at the same position\n        // of existing vertices\n        deleteCondition: function (event) {\n            return ol.events.condition.shiftKeyOnly(event) &&\n            ol.events.condition.singleClick(event);\n        }\n    });\n\n\n\n    /**\n    * Features vector layer\n    */\n    var featureOverlay = new ol.layer.Vector({\n        source: new ol.source.Vector({\n            features: features\n        }),\n        style: new ol.style.Style({\n            fill: new ol.style.Fill({\n                color: 'rgba(255, 255, 255, 0.2)'\n            }),\n            stroke: new ol.style.Stroke({\n                color: '#ffcc33',\n                width: 2\n            }),\n            image: new ol.style.Circle({\n                radius: 7,\n                fill: new ol.style.Fill({\n                    color: '#ffcc33'\n                })\n            })\n        })\n    });\n\n\n\n    /**\n    * Add the draw interaction to the map\n    * @public\n    * @param {Object} map - OL3 map\n    */\n    var init = function (map) {\n        featureOverlay.setMap(map);\n        map.addInteraction(modify);\n    };\n\n\n\n    /**\n    * Add a draw interaction to the map\n    * @public\n    * @param {string} type - Interaction type\n    * @param {Object} OL3 map\n    */\n    var drawInteraction = function (type, map) {\n        if (type) {\n            draw = new ol.interaction.Draw({\n                features: features,\n                type: /** @type {ol.geom.GeometryType} */ (type)\n            });\n            map.addInteraction(draw);\n        }\n    };\n\n\n\n    /**\n    * Let user change the geometry type.\n    * @public\n    * @param {string} id - Select input ID\n    * @param {Object} map - OL3 map\n    */\n    var addDrawTypeSwitcher = function (id, map) {\n        var typeSelect = document.getElementById(id);\n        typeSelect.onchange = function () {\n            map.removeInteraction(draw);\n            drawInteraction(typeSelect.value, map);\n        };\n        drawInteraction(typeSelect.value, map);\n    };\n\n\n\n    return {\n        init: init,\n        drawInteraction: drawInteraction,\n        addDrawTypeSwitcher: addDrawTypeSwitcher\n    };\n\n})();\n"],"sourceRoot":"/source/"}