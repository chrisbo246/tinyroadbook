{"version":3,"sources":["geocodeModule.js"],"names":[],"mappings":";;;;;;;;;;;;;;;AAaA,IAAI,gBAAgB,YAAa;;AAE7B,iBAF6B;;AAI7B,QAAI,WAAW,OAAO,QAAP,CAAgB,QAAhB,IAA4B,OAA5B;;;;;;;;;AAJc,QAezB,kBAAkB,SAAlB,eAAkB,CAAU,MAAV,EAAkB,KAAlB,EAAyB;;AAE3C,gBAAQ,IAAR,CAAa,8BAAb,EAF2C;;AAI3C,YAAI,MAAM,WAAW,uCAAX,GAAqD,UAAU,KAAV,CAArD,GAAwE,GAAxE,GAA8E,EAAE,KAAF,CAAQ,MAAR,CAA9E,CAJiC;AAK3C,gBAAQ,GAAR,CAAY,6BAAZ,EAA2C,GAA3C,EAL2C;;AAO3C,eAAO,EAAE,IAAF,CAAO;AACN,iBAAK,GAAL;SADD,EAGF,IAHE,CAGG,UAAU,IAAV,EAAgB;AAClB,oBAAQ,GAAR,CAAY,4BAAZ,EAA0C,KAAK,SAAL,CAAe,IAAf,CAA1C,EADkB;SAAhB,CAHH,CAMF,IANE,CAMG,YAAY;AACd,oBAAQ,IAAR,CAAa,4BAAb,EADc;SAAZ,CANH,CASF,MATE,CASK,YAAY;AAChB,oBAAQ,OAAR,CAAgB,8BAAhB,EADgB;SAAZ,CATZ,CAP2C;KAAzB;;;;;;;;AAfO,QA4CzB,mBAAmB,SAAnB,gBAAmB,CAAU,MAAV,EAAkB;;AAErC,gBAAQ,IAAR,CAAa,sCAAb,EAFqC;;AAIrC,YAAI,MAAM,WAAW,wCAAX,GAAsD,EAAE,KAAF,CAAQ,MAAR,CAAtD,CAJ2B;AAKrC,gBAAQ,GAAR,CAAY,qCAAZ,EAAmD,GAAnD,EALqC;;AAOrC,eAAO,EAAE,IAAF,CAAO;AACN,iBAAK,GAAL;SADD,EAGF,IAHE,CAGG,UAAU,IAAV,EAAgB;AAClB,oBAAQ,GAAR,CAAY,oCAAZ,EAAkD,KAAK,SAAL,CAAe,IAAf,CAAlD,EADkB;SAAhB,CAHH,CAMF,IANE,CAMG,YAAY;AACd,oBAAQ,IAAR,CAAa,oCAAb,EADc;SAAZ,CANH,CASF,MATE,CASK,YAAY;AAChB,oBAAQ,OAAR,CAAgB,sCAAhB,EADgB;SAAZ,CATZ,CAPqC;KAAlB,CA5CM;;AAiE7B,WAAO;AACH,yBAAiB,eAAjB;AACA,0BAAkB,gBAAlB;KAFJ,CAjE6B;CAAZ,EAAjB","file":"geocodeModule.js","sourcesContent":["/*eslint-env browser, jquery */\n/*global $ */\n//\n// http://wiki.openstreetmap.org/wiki/Nominatim_usage_policy\n// http://wiki.openstreetmap.org/wiki/Nominatim\n//\n/**\n * OL3 geocode module.\n * @module\n * @external $\n * @return {Object} Public functions / variables\n */\n/*eslint-disable no-unused-vars*/\nvar geocodeModule = (function () {\n    /*eslint-enable no-unused-vars*/\n    'use strict';\n\n    var protocol = window.location.protocol || 'http:';\n\n\n\n    /**\n     * Geocode search using Openstreetmap Nominatim\n     * @public\n     * @param {object} params - Request parameters\n     * @param {string} query - Formated address\n     * @return {Object} jqHXR\n     */\n    var nominatimSearch = function (params, query) {\n\n        console.time('Nominatim geocoding complete');\n\n        var url = protocol + '//nominatim.openstreetmap.org/search/' + encodeURI(query) + '?' + $.param(params);\n        console.log('Nominatim geocoding request', url);\n\n        return $.ajax({\n                url: url\n            })\n            .done(function (json) {\n                console.log('Nominatim geocoding result', JSON.stringify(json));\n            })\n            .fail(function () {\n                console.warn('Nominatim geocoding failed');\n            })\n            .always(function () {\n                console.timeEnd('Nominatim geocoding complete');\n            });\n    };\n\n\n\n    /**\n     * Reverse geocode using Openstreetmap Nominatim\n     * @public\n     * @param {Object} params - Request parameters\n     * @return {Object} jqXHR\n     */\n    var nominatimReverse = function (params) {\n\n        console.time('Nominatim reverse geocoding complete');\n\n        var url = protocol + '//nominatim.openstreetmap.org/reverse?' + $.param(params);\n        console.log('Nominatim reverse geocoding request', url);\n\n        return $.ajax({\n                url: url\n            })\n            .done(function (json) {\n                console.log('Nominatim reverse geocoding result', JSON.stringify(json));\n            })\n            .fail(function () {\n                console.warn('Nominatim reverse geocoding failed');\n            })\n            .always(function () {\n                console.timeEnd('Nominatim reverse geocoding complete');\n            });\n    };\n\n    return {\n        nominatimSearch: nominatimSearch,\n        nominatimReverse: nominatimReverse\n    };\n\n})();\n"],"sourceRoot":"/source/"}