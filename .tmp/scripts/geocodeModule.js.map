{"version":3,"sources":["geocodeModule.js"],"names":[],"mappings":";;;;;;;;;;;;;;;AAaA,IAAI,gBAAgB,YAAa;;AAE7B;;;;;;;;;AAF6B;AAa7B,QAAI,kBAAkB,SAAlB,eAAkB,CAAU,MAAV,EAAkB,KAAlB,EAAyB;AAC3C,YAAI,MAAM,+CAA+C,UAAU,KAAV,CAA/C,GAAkE,GAAlE,GAAwE,EAAE,KAAF,CAAQ,MAAR,CAAxE,CADiC;AAE3C,gBAAQ,GAAR,CAAY,GAAZ,EAF2C;AAG3C,eAAO,EAAE,IAAF,CAAO;AACV,iBAAK,GAAL;AACA,mBAAO,eAAU,KAAV,EAAiB,MAAjB,EAAyB,MAAzB,EAAgC;AACnC,wBAAQ,IAAR,CAAa,MAAb,EAAqB,MAArB,EADmC;aAAhC;SAFJ,CAAP,CAH2C;KAAzB;;;;;;;;AAbO,QAgCzB,mBAAmB,SAAnB,gBAAmB,CAAU,MAAV,EAAkB;;AAErC,gBAAQ,IAAR,CAAa,sCAAb,EAFqC;;AAIrC,YAAI,MAAM,gDAAgD,EAAE,KAAF,CAAQ,MAAR,CAAhD,CAJ2B;AAKrC,gBAAQ,GAAR,CAAY,qCAAZ,EAAmD,GAAnD,EALqC;;AAOrC,eAAO,EAAE,IAAF,CAAO;AACN,iBAAK,GAAL;SADD,EAGF,IAHE,CAGG,UAAU,IAAV,EAAgB;AAClB,oBAAQ,GAAR,CAAY,oCAAZ,EAAkD,KAAK,SAAL,CAAe,IAAf,CAAlD,EADkB;SAAhB,CAHH,CAMF,IANE,CAMG,YAAY;AACd,oBAAQ,IAAR,CAAa,oCAAb,EADc;SAAZ,CANH,CASF,MATE,CASK,YAAY;AAChB,oBAAQ,OAAR,CAAgB,sCAAhB,EADgB;SAAZ,CATZ,CAPqC;KAAlB,CAhCM;;AAqD7B,WAAO;AACH,yBAAiB,eAAjB;AACA,0BAAkB,gBAAlB;KAFJ,CArD6B;CAAZ,EAAjB","file":"geocodeModule.js","sourcesContent":["/*eslint-env browser, jquery */\n/*global $ */\n//\n// http://wiki.openstreetmap.org/wiki/Nominatim_usage_policy\n// http://wiki.openstreetmap.org/wiki/Nominatim\n//\n/**\n * OL3 geocode module.\n * @module\n * @external $\n * @return {Object} Public functions / variables\n */\n/*eslint-disable no-unused-vars*/\nvar geocodeModule = (function () {\n    /*eslint-enable no-unused-vars*/\n    'use strict';\n\n\n\n    /**\n     * Geocode search using Openstreetmap Nominatim\n     * @public\n     * @param {object} params - Request parameters\n     * @param {string} query - Formated address\n     * @return {Object} jqHXR\n     */\n    var nominatimSearch = function (params, query) {\n        var url = 'http://nominatim.openstreetmap.org/search/' + encodeURI(query) + '?' + $.param(params);\n        console.log(url);\n        return $.ajax({\n            url: url,\n            error: function (jqxhr, status, error) {\n                console.warn(status, error);\n            }\n        });\n    };\n\n\n\n    /**\n     * Reverse geocode using Openstreetmap Nominatim\n     * @public\n     * @param {Object} params - Request parameters\n     * @return {Object} jqXHR\n     */\n    var nominatimReverse = function (params) {\n\n        console.time('Nominatim reverse geocoding complete');\n\n        var url = 'http://nominatim.openstreetmap.org/reverse?' + $.param(params);\n        console.log('Nominatim reverse geocoding request', url);\n\n        return $.ajax({\n                url: url\n            })\n            .done(function (json) {\n                console.log('Nominatim reverse geocoding result', JSON.stringify(json));\n            })\n            .fail(function () {\n                console.warn('Nominatim reverse geocoding failed');\n            })\n            .always(function () {\n                console.timeEnd('Nominatim reverse geocoding complete');\n            });\n    };\n\n    return {\n        nominatimSearch: nominatimSearch,\n        nominatimReverse: nominatimReverse\n    };\n\n})();\n"],"sourceRoot":"/source/"}