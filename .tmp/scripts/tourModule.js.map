{"version":3,"sources":["../../app/scripts/tourModule.js"],"names":[],"mappings":"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","file":"tourModule.js","sourcesContent":["//jslint browser: true\n//global console, $, Tour\n\n/**\n * Bootstrap-tour module.\n * @external jQuery\n * @external bootstrap-tour\n * @see {@link https://github.com/sorich87/bootstrap-tour}\n * @module\n * @returns {Object} Public functions and variables\n */\nvar tourModule = (function () {\n    'use strict';\n\n    var tour;\n\n    $(function () {\n\n        var $start = $('.start-tour');\n        $start.removeClass('hidden');\n\n        var steps = [{\n                element: '#main-nav a[href=\"#picker\"]',\n                    title: 'Ready to start?',\n                    content: 'Go to the editor tab to extract city names and edit your roadbook.',\n                    placement: 'bottom',\n                    orphan: true,\n                    onShow: function () {\n                        $('a[href=\"#home\"]').tab('show');\n                    }\n                }, {\n                    element: '#map',\n                    title: 'The map',\n                    content: 'The map allow you to extract city names by clicking on you waypoints. Drag it up to your starting point.',\n                    placement: 'right',\n                    onShow: function () {\n                        $('a[href=\"#picker\"]').tab('show');\n                    }\n                }, {\n                element: '.ol-zoom',\n                    title: 'Zoom ',\n                    content: 'Zoom until you can see the smallest city on your way then click on each one up to your last destination.',\n                    placement: 'right',\n                    onShow: function () {\n                        appModule.map.getView().setZoom(11);\n                    }\n                }, {\n                    element: '#editor',\n                    title: 'Freely edit your roadbook',\n                    content: 'The city names will be inserted in the edition area at the cursor position. Move the cursor if you forgot a city or edit the text if it\\'s not like expected.',\n                    placement: 'left'\n                }, {\n                    element: '.layer-switcher',\n                    title: 'Switch layers',\n                    content: 'You can change the base map and activate optional overlays like bike roads or hiking paths.',\n                    placement: 'right',\n                    onShow: function () {\n                        $('.layer-switcher').trigger('mouseenter');\n                    }\n                }, {\n                    element: '#print_editor',\n                    title: 'Print your roadbook',\n                    content: 'When you end editing your roadbook, just click this button to print it to your prefered format. You can also just copy the text and save it in a text file.',\n                    placement: 'bottom',\n                    onShow: function () {\n                        $('a[href=\"#picker\"]').tab('show');\n                    }\n                }, {\n                    element: '.addthis_sharing_toolbox',\n                    title: 'Tell the world',\n                    content: 'Don\\'t forget to tell your friends about this cool application ;).',\n                    placement: 'bottom',\n                    onShow: function () {\n                        $('a[href=\"#picker\"]').tab('show');\n                    }\n                }, {\n                    element: '#main-nav a[href=\"#settings\"]',\n                    title: 'The settings',\n                    content: 'The settings tab allow you to customize picker output, select a GPS track file or reset the application.',\n                    placement: 'bottom',\n                    onShow: function () {\n                        //$('a[href=\"#settings\"]').first().tab('show');\n                    }\n                }, {\n                    element: '#gpx_file_path',\n                    title: 'Visualize your route',\n                    content: 'Do you have a GPS track file of your initerary? Go to the settings tab, select a .gpx file on your computer then activate the layer to visualize your route.',\n                    placement: 'bottom'\n                }, {\n                    element: '#separator',\n                    title: 'City name separator',\n                    content: 'You can change the string to append after each city insertion. Enter a line break if you want to have a columned list.',\n                    placement: 'right'\n                }/*, {\n                    element: '#disable_all_priorities',\n                    title: 'Disable some priorities',\n                    content: 'You can also highlight several items before using this buttons to disable the priorities you don\\'t need.',\n                    placement: 'right'\n                }, {\n                    element: 'div[data-anchor=\"priorities\"] .fp-controlArrow.fp-next',\n                    title: 'Next step',\n                    content: 'Now slide to the next settings using the arrow.',\n                    placement: 'left',\n                    reflex: true\n                }, {\n                    element: '#disabled_priorities',\n                    title: 'Disabled priorities',\n                    content: 'Here are disabled priorities. Highlight some and click the enable selection button to activate them.',\n                    placement: 'top',\n                    onShow: function () {\n                        'use strict';\n                        $('#fullpage').fullpage.moveTo('priorities', 'disabled_priorities');\n                    }\n                }, {\n                    element: '#refresh_profile',\n                    title: 'Prefill your profile',\n                    content: 'Now select your usual place of living then click the button to prefill or reset all fields of your profile.',\n                    placement: 'bottom',\n                    reflex: true,\n                    onShow: function () {\n                        'use strict';\n                        $('#fullpage').fullpage.moveTo('user', 'profile');\n                    }\n                }, {\n                    element: '#profile_form fieldset:nth-of-type(2)',\n                    title: 'Fill out your profil',\n                    content: 'Complete each field up to the last step to describe your usual lifestyle.' + ' Note that required fields vary depending on selected priorities, so you\\'d better fill all fields.',\n                    placement: 'left',\n                    onShow: function () {\n                        'use strict';\n                        $('#fullpage').fullpage.moveTo('user', 'legal');\n                    }\n                }, {\n                    title: 'Get your destinations',\n                    content: 'Now it\\'s time to scroll the page on step down to get your destinations.',\n                    orphan: true\n                }, {\n                    element: '#country_list_container li:nth-of-type(1) .show-dialog',\n                    title: 'Top destinations',\n                    content: 'Here his the list of the best destinations sorted by score. Click on the country' + ' name (or on the map) to display informations about this country.',\n                    placement: 'top',\n                    orphan: true,\n                    onShow: function () {\n                        'use strict';\n                        $('#fullpage').fullpage.moveTo('results', 'country_list');\n                    }\n                }, {\n                    element: '#matches-tab',\n                    title: 'Country details',\n                    content: 'Here you will find matching priorities. Go through each tabs to find a lot of useful' + ' informations about this country.',\n                    placement: 'right',\n                    onShow: function () {\n                        'use strict';\n                        if (!$('.ui-dialog').is(':visible')) {\n                            //$('#country_list_container').find('li:nth-of-type(1) .show-dialog').click();\n                            $('#country_list_container').find('.show-dialog').click();\n                        }\n                    },\n                    onHide: function () {\n                        'use strict';\n                        if ($('.ui-dialog-content')) {\n                            $('.ui-dialog-content').dialog('close');\n                        }\n                    }\n                }, {\n                    element: '#geochart_container',\n                    title: 'The map',\n                    content: 'The map show you the best destinations in a more visual way. The more countries are' + ' colored, the more they match your priorities.',\n                    placement: 'top',\n                    reflex: true,\n                    onShow: function () {\n                        'use strict';\n                        $('#fullpage').fullpage.moveTo('results', 'map');\n                    }\n                }, {\n                    element: '#geochart_region',\n                    title: 'Zoom in / out',\n                    content: 'You can focus on a specific region using this select box. Choose \"World\" to zoom' + ' out.',\n                    placement: 'left',\n                    reflex: true\n                }, {\n                    title: 'Have fun!',\n                    content: 'Now it\\'s your turn. Have a look in the FAQ if you have any questions.',\n                    placement: 'top',\n                    orphan: true,\n                    onShow: function () {\n                        'use strict';\n                        $('#fullpage').fullpage.moveTo('priorities', 'enabled_priorities');\n                    }\n                }*/\n            ];\n\n        tour = new Tour({\n                //duration: 10000,\n                orphan: true,\n                steps: steps,\n                onStart: function () {\n                    if ($start) $start.addClass('disabled');\n                },\n                onEnd: function () {\n                    if ($start) $start.removeClass('disabled');\n                },\n                onShow: function () {\n                    if ($start) $start.addClass('disabled');\n                },\n                onHide: function () {\n                    if ($start) $start.removeClass('disabled');\n                },\n                onPause: function () {\n                    if ($start) $start.removeClass('disabled');\n                }\n            });\n\n        tour.init();\n        console.log('Tour initialized');\n\n        $start.on('click', function (e) {\n            console.log('Start tour');\n            tour.start(true);\n        });\n\n    });\n    \n    return {};\n\n})();\n"]}